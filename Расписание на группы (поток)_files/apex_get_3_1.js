function htmldb_Get(C,B,G,E,I,F,A){this.obj=$x(C);this.proc=(!!F)?F:"wwv_flow.show";this.flow=(!!B)?B:$v("pFlowId");this.request=(!!G)?G:"";this.page=(!!E)?E:"0";this.queryString=(!!A)?A:null;this.params="";this.response="";this.base=null;this.syncMode=false;this.addParam=htmldb_Get_addParam;this.add=htmldb_Get_addItem;this.getPartial=htmldb_Get_trimPartialPage;this.getFull=function(M){var K;var L;if(M){this.obj=$x(M)}if(this.obj){if(this.obj.nodeName=="INPUT"){this.obj.value=this.response}else{if(document.all){K=this.response;L=this.obj;setTimeout(function(){htmldb_get_WriteResult(L,K)},100)}else{$s(this.obj,this.response)}}}return this.response};this.get=function(P,L,K){var O;try{O=new XMLHttpRequest()}catch(N){O=new ActiveXObject("Msxml2.XMLHTTP")}try{var M=new Date();O.open("POST",this.base,this.syncMode);O.setRequestHeader("Content-Type","application/x-www-form-urlencoded");O.send(this.queryString==null?this.params:this.queryString);this.response=O.responseText;if(this.node){this.replaceNode(O.responseXML)}if(P==null||P=="PPR"){return this.getPartial(L,K)}if(P=="XML"){return O.responseXML}else{return this.getFull()}}catch(N){return }};this.url=htmldb_Get_getUrl;this.escape=htmldb_Get_escape;this.clear=htmldb_Get_clear;this.sync=htmldb_Get_sync;this.setNode=H;this.replaceNode=D;var J=(window.location.href.indexOf("?")>0)?window.location.href.substring(0,window.location.href.indexOf("?")):window.location.href;this.base=J.substring(0,J.lastIndexOf("/"));if(!!!this.proc){this.proc=J.substring(J.lastIndexOf("/")+1)}this.base=this.base+"/"+this.proc;if(I==null||I==""){this.instance=$v("pInstance")}else{this.instance=I}if(!A){this.addParam("p_request",this.request);this.addParam("p_instance",this.instance);this.addParam("p_flow_id",this.flow);this.addParam("p_flow_step_id",this.page)}function H(K){this.node=$x(K)}function D(L){var K=0;for(K=this.node.childNodes.length-1;K>=0;K--){this.node.removeChild(this.node.childNodes[K])}this.node.appendChild(L)}}function htmldb_Get_sync(A){this.syncMode=A}function htmldb_Get_clear(A){this.addParam("p_clear_cache",A)}function htmldb_Get_getUrl(){return this.queryString==null?this.base+"?"+this.params:this.queryString}function htmldb_Get_escape(A){A=A+"";A=A.replace(/\%/g,"%25");A=A.replace(/\+/g,"%2B");A=A.replace(/\ /g,"%20");A=A.replace(/\./g,"%2E");A=A.replace(/\*/g,"%2A");A=A.replace(/\?/g,"%3F");A=A.replace(/\\/g,"%5C");A=A.replace(/\//g,"%2F");A=A.replace(/\>/g,"%3E");A=A.replace(/\</g,"%3C");A=A.replace(/\{/g,"%7B");A=A.replace(/\}/g,"%7D");A=A.replace(/\~/g,"%7E");A=A.replace(/\[/g,"%5B");A=A.replace(/\]/g,"%5D");A=A.replace(/\`/g,"%60");A=A.replace(/\;/g,"%3B");A=A.replace(/\?/g,"%3F");A=A.replace(/\@/g,"%40");A=A.replace(/\&/g,"%26");A=A.replace(/\#/g,"%23");A=A.replace(/\|/g,"%7C");A=A.replace(/\^/g,"%5E");A=A.replace(/\:/g,"%3A");A=A.replace(/\=/g,"%3D");A=A.replace(/\$/g,"%24");return A}function htmldb_Get_addParam(A,B){if(this.params==""){this.params=A+"="+(B!=null?this.escape(B):"")}else{this.params=this.params+"&"+A+"="+(B!=null?this.escape(B):"")}return }function htmldb_Get_addItem(A,B){this.addParam("p_arg_names",A);this.addParam("p_arg_values",B)}function htmldb_Get_trimPartialPage(E,D,G){if(G){this.obj=$x(G)}if(!E){E="<!--START-->"}if(!D){D="<!--END-->"}var H=this.response.indexOf(E);var C;var A;var F;if(H>0){this.response=this.response.substring(H+E.length);var B=this.response.indexOf(D);this.response=this.response.substring(0,B)}if(this.obj){if(document.all){A=this.response;F=this.obj;setTimeout(function(){htmldb_get_WriteResult(F,A)},100)}else{$s(this.obj,this.response)}}return this.response}var gResult=null;var gNode=null;function htmldb_get_WriteResult(B,A){$s(B,A);return }function html_Doneprocessing(){}function html_processing(){}htmldb_Get.prototype.GetAsync=function(A){try{p=new XMLHttpRequest()}catch(C){p=new ActiveXObject("Msxml2.XMLHTTP")}try{var B=new Date();p.open("POST",this.base,true);if(p){p.onreadystatechange=A;p.setRequestHeader("Content-Type","application/x-www-form-urlencoded");p.send(this.queryString==null?this.params:this.queryString);return p}}catch(C){return false}};function htmldb_ExternalPost(F,B,E){var C="f?p="+$x("pFlowId").value+":"+$x("pFlowStepId").value+":"+$x("pInstance").value+":FLOW_FOP_OUTPUT_R"+B;document.body.innerHTML=document.body.innerHTML+'<div style="display:none;" id="dbaseSecondForm"><form id="xmlFormPost" action="'+E+'?ie=.pdf" method="post" target="pdf"><textarea name="vXML" id="vXML" style="width:500px;height:500px;"></textarea></form></div>';var D=$x("vXML");var A=new htmldb_Get(D,null,null,null,null,"f",C.substring(2));A.get();A=null;setTimeout('$x("xmlFormPost").submit()',10);return }function $xml_Control(B){this.xsl_string='<?xml version="1.0"?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:output method="html"/><xsl:param name="xpath" /><xsl:template match="/"><xsl:copy-of select="//*[@id=$xpath]"/></xsl:template></xsl:stylesheet>';if(document.all){this.xsl_object=new ActiveXObject("Msxml2.FreeThreadedDOMDocument.3.0");this.xsl_object.async=false;this.xsl_object.loadXML(this.xsl_string);tmp=new ActiveXObject("Msxml2.XSLTemplate.3.0");tmp.stylesheet=this.xsl_object;this.xsl_processor=tmp.createProcessor()}else{this.xsl_object=(new DOMParser()).parseFromString(this.xsl_string,"text/xml");this.xsl_processor=(new XSLTProcessor());this.xsl_processor.importStylesheet(this.xsl_object);this.ownerDocument=document.implementation.createDocument("","test",null)}this.xml=B;this.CloneAndPlace=A;return ;function A(G,D,F){var C=$x(D);if(document.all){this.xsl_processor.addParameter("xpath",G);this.xsl_processor.input=this.xml;this.xsl_processor.transform;var E=this.xsl_processor.output}else{this.xsl_processor.setParameter(null,"xpath",G);var E=this.xsl_processor.transformToFragment(this.xml,this.ownerDocument)}if(C){if(ie){$s(C,E)}else{$s(C,"");C.appendChild(E)}return E}}}htmldb_Get.prototype.AddArray=function(C,E){var D="f";E=$nvl(E,1);if(E<10){D+="0"+E}else{D+=E}for(var B=0,A=C.length;B<A;B++){this.addParam(D,C[B])}return this};htmldb_Get.prototype.AddArrayItems=function(C,E){var D="f";E=$nvl(E,1);if(E<10){D+="0"+E}else{D+=E}for(var B=0,A=C.length;B<A;B++){this.addParam(D,$nvl($v(C[B])),"")}return this};htmldb_Get.prototype.AddArrayClob=function(A,B){var C=$s_Split(A,4000);this.AddArray(C,B);return this};function $a_PostClob(E,D,C,B){var A=new htmldb_Get(null,$v("pFlowId"),D,C,null,"wwv_flow.accept");A.AddArrayClob($x(E).value,1);A.GetAsync(B);A=null}function $a_GetClob(D,C,B){var A=new htmldb_Get(null,$v("pFlowId"),D,C,null,"wwv_flow.accept");A.GetAsync(B);A=null;x=null}htmldb_Get.prototype.AddPageItems=function(C){for(var B=0,A=C.length;B<A;B++){if($x(C[B])){this.add($x(C[B]).id,$v(C[B]))}}};htmldb_Get.prototype.AddGlobals=function(H,J,C,I,G,F,E,D,B,A,N,M,K,L){this.addParam("p_widget_mod",H);this.addParam("p_widget_action",J);this.addParam("p_widget_action_mod",C);this.addParam("p_widget_num_return",I);this.addParam("x01",G);this.addParam("x02",F);this.addParam("x03",E);this.addParam("x04",D);this.addParam("x05",B);this.addParam("x06",A);this.addParam("x07",N);this.addParam("x08",M);this.addParam("x09",K);this.addParam("x10",L);return this};function $s_Split(C,A){var B=[];if(C.length<=A){B[B.length]=C}else{while(C.length>4000){B[B.length]=C.substr(0,4000);C=C.substr(4000,C.length-4000)}B[B.length]=C.substr(0,4000)}return B}function json_SetItems(gReturn){gReturn=eval("("+gReturn+")");for(var j=0,len=gReturn.item.length;j<len;j++){var lTemp=new apex.page.item(gReturn.item[j].id);lTemp.set(gReturn.item[j].value)}};